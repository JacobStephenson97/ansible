- hosts: localhost
  become: true
  tasks:
  - name: Install Basic Packages
    community.general.pacman:
      name:
        - zsh
        - github-cli
        - fzf
        - pv
        - clang
        - llvm
        - rust
        - lm_sensors
        - psutils
        - neofetch
        - htop
        - bashtop
        - imagemagick
        - jq
  - name: Make bin/downloads
    ansible.builtin.shell: mkdir bin Downloads
  - name: Clone yay
    become_user: jacob
    ansible.builtin.git: 
      repo: 'https://aur.archlinux.org/yay.git'
      dest: /home/jacob/yay
  - name: Install yay
    become_user: jacob
    ansible.builtin.shell: cd yay && makepkg -si --noconfirm && rm -rf ~/yay
  - name: Run oh-my-zsh install script
    ansible.builtin.shell: "curl -fsSL http://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh | sh -"
  - name: Install zsh-theme-powerlevel10k-git package
    become_user: jacob
    ansible.builtin.shell: yay -S --noconfirm zsh-theme-powerlevel10k-git
  - name: Get zsh dotfile
    become_user: jacob
    ansible.builtin.shell: "curl -s https://raw.githubusercontent.com/JacobStephenson97/.dotfiles/main/.zshrc > ~/.zshrc"
  - name: Get p10k dotfile
    become_user: jacob
    ansible.builtin.shell: "curl -s https://raw.githubusercontent.com/JacobStephenson97/.dotfiles/main/.p10k.zsh > ~/.p10k.zsh"
      
